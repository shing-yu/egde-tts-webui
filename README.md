# Edge TTS Web UI - 文本转语音网页工具

这是一个基于 `edge-tts` 和 `Flask` 的Web应用程序，提供了一个友好的用户界面，用于将文本转换为高质量的语音，并同步生成SRT字幕文件。本工具充分利用了微软Edge浏览器的在线文本转语音（TTS）服务，支持多种音色和语音参数调整。

## ✨ 项目特色

*   **🎙️ 多种音色选择**: 集成了晓晓、云健、云希等多种预设的中文AI音色，满足不同场景的需求。
*   **🎛️ 语音参数自定义**: 支持对语速、音量和音调进行增益调整，让生成的语音更具个性。
*   **📝 两种输入方式**: 用户可以直接在文本框中输入文字，或上传 `.txt` 格式的文本文件进行转换。
*   **字幕文件生成**: 在转换语音的同时，会自动创建与音频时间轴精确同步的 `.srt` 字幕文件。
*   ** SRT 字幕优化**: 支持自定义每行字幕的字数，并自动优化字幕内容，去除不必要的空格。
*   **🚀 异步长文本处理**:
    *   **分块处理**: 对长文本自动进行分块，有效规避API的单次请求字数限制。
    *   **进度反馈**: 通过实时进度条向用户展示转换进度，优化长文本转换过程中的等待体验。
    *   **断点续传**: (概念上) 每个分块独立处理，增强了系统的健壮性。
*   ** modern 现代化的前端界面**: 使用 `Tailwind CSS` 构建，界面美观、响应式，并提供文件拖拽上传等便捷功能。
*   **🎵 在线播放与下载**: 转换完成后，用户可直接在网页上播放在线试听，并提供MP3音频和SRT字幕的下载链接。

## 🛠️ 技术栈

*   **后端**: Flask
*   **TTS 引擎**: [edge-tts](https://github.com/rany2/edge-tts)
*   **音频处理**: [pydub](https://github.com/jiaaro/pydub)
*   **字幕处理**: [srt](https://github.com/cdown/srt)
*   **前端**: HTML, [Tailwind CSS](https://tailwindcss.com/), Font Awesome
*   **异步处理**: `asyncio`, `threading`

## 🚀 安装与运行

请确保您的系统已安装 Python 3.7+ 和 FFmpeg。

> **提示**: FFmpeg 是 `pydub` 库所必需的依赖，用于处理音频文件。请从 [FFmpeg官网](https://ffmpeg.org/download.html) 下载并将其添加到系统的环境变量中。

**1. 克隆仓库**

```bash
git clone https://github.com/your-username/edge-tts-webui.git
cd edge-tts-webui
```

**2. 创建并激活虚拟环境**

*   **Windows**:
    ```bash
    python -m venv venv
    venv\Scripts\activate
    ```
*   **macOS / Linux**:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

**3. 安装依赖**

确保您在虚拟环境中，然后运行以下命令安装所需的Python依赖：

```bash
pip install -r requirements.txt
```

**4. 运行应用**

```bash
python app.py
```

**5. 访问应用**

打开您的浏览器，访问 `http://127.0.0.1:5000`。

## 📖 使用指南

1.  **输入文本内容**:
    *   在文本框中直接粘贴或输入您想要转换的文字。
    *   或者，点击上传区域，选择一个 `.txt` 文件。您也可以直接将文件拖拽到上传区域。

2.  **选择语音配置**:
    *   **选择音色**: 从下拉菜单中选择您喜欢的声音，例如“晓晓”或“云健”。
    *   **调整参数**: 根据需要调整语速、音量和音调。
    *   **设置字幕**: 设定每行字幕期望显示的字数。

3.  **开始转换**:
    *   点击 **“开始转换”** 按钮。
    *   页面将跳转到转换进度页，您可以在此看到任务的实时状态和预计剩余时间。

4.  **获取结果**:
    *   转换成功后，页面会自动跳转到结果页。
    *   您可以在线播放生成的MP3音频。
    *   点击 **“下载音频文件”** 或 **“下载字幕文件”** 按钮来保存文件。


## 🤝 贡献

欢迎任何形式的贡献！如果您有好的想法或发现了Bug，请随时提交 Pull Request 或创建 Issue。

目前我们特别欢迎以下方面的贡献：
 - 多语言支持：欢迎您为该项目的界面和音色选项添加更多语言支持。

## 📄 开源许可

本项目采用 [MIT License](https://github.com/shing-yu/edge-tts-webui/blob/main/LICENSE) 开源许可。

---